library(stringi)
library(stringr)
library(rebus)
install.packages("rebus")
library(rebus)
funcion = START %R% "[0-9]"  %R% any_char(1,8) %R% "[A-Z]" %R% END
stri_subset(muestra15$nif,regex = funcion)
funcion = START %R% "[0-9]"  %R% any_char(1,8) %R% "[A-Z]" %R% END
stri_subset(muestra39$nif,regex = funcion)
load("C:/Users/asaaa/Desktop/EXAMEN_DS1/Archivos_examen_ds/muestra39.RData")
dim(muestra39)
View(muestra39)
names(muestra39)
names(muestra39)<-c('nif','nombre','género')
View(muestra39)
funcion = START %R% "[0-9]"  %R% any_char(1,8) %R% "[A-Z]" %R% END
stri_subset(muestra39$nif,regex = funcion)
grepl(pattern = cambio_nif, x = muestra39$nif)
muestra2<-grepl(pattern = cambio_nif,  x = muestra39$nif)ç
muestra3<-merge(muestra2, muestra21)
vector<-as.vector(which(muestra2, arr.ind=FALSE))
muestra21<-muestra39[c(vector),]
cambio_nif <- "([[:digit:]]{8})([[:alpha:]]{1})"
grepl(pattern = cambio_nif, x = muestra39$nif)
muestra2<-grepl(pattern = cambio_nif,  x = muestra39$nif)ç
muestra3<-merge(muestra2, muestra21)
vector<-as.vector(which(muestra2, arr.ind=FALSE))
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra30$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra30=inner_join(a, muestra30, by = c("a" = "nif"))
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra30=inner_join(a, muestra30, by = c("a" = "nif"))
library(stringi)
library(stringr)
library(rebus)
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra30=inner_join(a, muestra30, by = c("a" = "nif"))
library(dplyr)
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra30=inner_join(a, muestra30, by = c("a" = "nif"))
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra30=inner_join(a, muestra39, by = c("a" = "nif"))
cambio_nif <- "([[:digit:]]{8})([[:alpha:]]{1})"
grepl(pattern = cambio_nif, x = muestra39$nif)
muestra2<-grepl(pattern = cambio_nif,  x = muestra39$nif)ç
muestra3<-merge(muestra2, muestra21)
vector<-as.vector(which(muestra2, arr.ind=FALSE))
muestra21<-muestra39[c(vector),]
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra39=inner_join(a, muestra39, by = c("a" = "nif"))
load("C:/Users/asaaa/Desktop/EXAMEN_DS1/Archivos_examen_ds/muestra39.RData")
dim(muestra39)
View(muestra39)
names(muestra39)
names(muestra39)<-c('nif','nombre','género')
View(muestra39)
library(stringi)
library(stringr)
library(rebus)
library(dplyr)
#como no sabía hacer lo del genero he cambiado de rama-nif y he empezado el procesamiento del nif
#Creo el patrón que cumplen los nif 8 digitos y 1 letra
patron = "([[:digit:]]{8})([[:alpha:]]{1})"
#con str_extract saco las combinaciones que coincidan
a=str_extract(muestra39$nif, patron)
#Lo añado a dataframe
a=data.frame(a)
#Uno la tabla a del patron a la muestra original
muestra39=inner_join(a, muestra39, by = c("a" = "nif"))
View(muestra39)
#como no sabía hacer lo del genero he cambiado de rama-nif y he empezado el procesamiento del nif
#Examino el patron que sigur cada nif(es decir, 8 numeros y una letra)
coincidencia = "([[:digit:]]{8})([[:alpha:]]{1})"
#cojo las que coinciden
df1=str_extract(muestra39$nif, coincidencia)
#Lo añado a dataframe
df1=data.frame(df1)
#Uno la tabla a del patron a la muestra original
muestra39=inner_join(df1, muestra39, by = c("df1" = "nif"))
View(muestra39)
load("C:/Users/asaaa/Desktop/EXAMEN_DS1/Archivos_examen_ds/muestra39.RData")
dim(muestra39)
View(muestra39)
names(muestra39)
names(muestra39)<-c('nif','nombre','género')
View(muestra39)
coincidencia = "([[:digit:]]{8})([[:alpha:]]{1})"
#cojo las que coinciden
df1=str_extract(muestra39$nif, coincidencia)
#Lo añado a dataframe
df1=data.frame(df1)
#Uno la tabla a del patron a la muestra original
muestra39=inner_join(df1, muestra39, by = c("df1" = "nif"))
View(muestra39)
load("C:/Users/asaaa/Desktop/EXAMEN_DS1/Archivos_examen_ds/muestra39.RData")
dim(muestra39)
View(muestra39)
names(muestra39)
names(muestra39)<-c('nif','nombre','género')
View(muestra39)
library(stringi)
library(stringr)
library(rebus)
library(dplyr)
#como no sabía hacer lo del genero he cambiado de rama-nif y he empezado el procesamiento del nif
#Examino el patron que sigur cada nif(es decir, 8 numeros y una letra)
coincidencia = "([[:digit:]]{8})([[:alpha:]]{1})"
#cojo las que coinciden
df1=str_extract(muestra39$nif, coincidencia)
#Lo añado a dataframe
df1=data.frame(df1)
#Uno la tabla a del patron a la muestra original
muestra39=inner_join(df1, muestra39, by = c("df1" = "nif"))
View(muestra39)
